(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{d953:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{attrs:{padding:""}},[t.jwt?n("q-card",{attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",{staticClass:"row items-center no-wrap"},[t.user?n("div",{staticClass:"col"},[n("div",{staticClass:"text-h5"},[t._v(t._s(t.user.username))]),n("div",{staticClass:"text-caption"},[t._v(t._s(t.user.email))])]):n("div",{staticClass:"col"},[n("div",{staticClass:"text-h5"},[t._v("???")])]),n("div",{staticClass:"col-auto"},[n("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"more_vert"}},[n("q-menu",{attrs:{cover:"","auto-close":""}},[n("q-list",[n("q-item",{attrs:{clickable:""},on:{click:t.logout}},[n("q-item-section",[t._v(t._s(t.$t("Logout")))])],1)],1)],1)],1)],1)])])],1):n("Auth")],1)},a=[],o=(n("d93a"),n("0012"),n("5b54"),n("2bf3"),n("b7dd"),n("ef92"),n("9289")),c=n.n(o),s=n("52b5"),i=n.n(s),l=(n("c1c3"),n("549c")),u=n.n(l),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._e(),n("q-card",{staticClass:"q-mb-lg q-mt-lg q-pa-md",attrs:{flat:"",bordered:""}},[n("form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.login(e)}}},[n("div",{staticClass:"text-h5 text-center"},[t._v(t._s(t.$t("Sign In")))]),n("q-input",{attrs:{outlined:"",clearable:"","bg-color":"white",label:"Username or email"},model:{value:t.identifier,callback:function(e){t.identifier=e},expression:"identifier"}}),n("q-input",{attrs:{type:"password",outlined:"",clearable:"","bg-color":"white",label:t.$t("Password")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",[n("q-btn",{staticClass:"full-width",attrs:{type:"submit",color:"teal",size:"16px"}},[t._v("\n          "+t._s(t.$t("Login"))+"\n        ")])],1),t.error?n("div",{staticClass:"text-red-10 text-subtitle1"},[t._v("\n        "+t._s(t.error)+"\n      ")]):t._e()],1)]),n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col-8"},[n("q-btn",{staticClass:"bg-light-blue-14 text-white full-width q-mt-lg",attrs:{to:"/profile/reg",flat:"",size:"16px"}},[t._v("\n        "+t._s(t.$t("Create account"))+"\n      ")])],1)])],1)},d=[],f=n("1779"),v={name:"Profile",data:function(){return{identifier:null,password:null,error:null}},created:function(){},mounted:function(){},methods:{authGoogle:function(){var t=this;return u()(i.a.mark((function e(){var n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("/connect/google/callback"),e.prev=1,e.next=4,t.$axios.get("http://localhost:1337/connect/google");case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error("REGISTRATION",Object(f["a"])(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},authVk:function(){var t=this;return u()(i.a.mark((function e(){var n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("/connect/vk/callback"),e.prev=1,e.next=4,t.$axios.get("http://localhost:1337/connect/vk");case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.error("REGISTRATION",Object(f["a"])(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},login:function(){var t=this;return u()(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("http://localhost:1337/auth/local",{identifier:t.identifier,password:t.password});case 3:n=e.sent,r=n.data,r.jwt&&(t.$store.commit("LOGIN_USER_DATA",r),t.$store.dispatch("SYNC_USER_CONTACTS"),t.$q.notify({message:t.$t("Transaction successful"),type:"positive",position:"bottom"})),console.log(r),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),t.error=Object(f["a"])(e.t0),console.error("REGISTRATION",Object(f["a"])(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},b=v,h=n("a6c2"),m=n("63c1"),w=n.n(m),g=n("ef9c"),O=n("5ce7"),_=n("a3be"),x=n("19dc"),C=Object(h["a"])(b,p,d,!1,null,null,null),j=C.exports;w()(C,"components",{QBtn:g["a"],QCard:O["a"],QInput:_["a"],QIcon:x["a"]});var k=n("94ea");function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $={name:"Profile",components:{Auth:j},data:function(){return{}},created:function(){},mounted:function(){},methods:{sync:function(){var t=this;return u()(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("SYNC_USER_CONTACTS");case 1:case"end":return e.stop()}}),e)})))()},logout:function(){this.$store.commit("LOGOUT_JWT")}},computed:y({},Object(k["c"])({jwt:function(t){return t.user.jwt},user:function(t){return t.user.user},contacts:function(t){return t.contacts.contacts}})),watch:{jwt:function(t){console.log(t)}}},S=$,T=n("505d"),P=n("7006"),I=n("6496"),Q=n("692f"),E=n("e0e9"),A=n("6c44"),R=Object(h["a"])(S,r,a,!1,null,null,null);e["default"]=R.exports;w()(R,"components",{QPage:T["a"],QCard:O["a"],QCardSection:P["a"],QBtn:g["a"],QMenu:I["a"],QList:Q["a"],QItem:E["a"],QItemSection:A["a"]})}}]);