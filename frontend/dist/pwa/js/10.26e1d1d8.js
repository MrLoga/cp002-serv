(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"8b24":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[e.wallets?n("div",[n("q-item-label",{attrs:{header:""}},[e._v(e._s(e.$t("Wallets")))]),n("q-card",[n("q-list",{staticClass:"q-mb-md",attrs:{separator:""}},e._l(e.walletsSelect,(function(e,t){return n("WalletItem",{key:t,attrs:{wallet:e}})})),1)],1)],1):e._e(),n("q-item-label",{attrs:{header:""}},[e._v(e._s(e.$t("Services")))]),n("div",{staticClass:"row q-mb-lg"},[n("div",{staticClass:"col-md-6 col-xs-6 q-pa-xs"},[n("q-btn",{staticClass:"bg-light-blue-14 text-white full-width q-pb-sm",attrs:{push:"",stack:"",to:"/contacts"}},[n("q-icon",{staticClass:"text-white",attrs:{name:"supervisor_account",size:"2rem"}}),n("div",{staticStyle:{"font-size":"0.8rem"}},[e._v(e._s(e.$t("Contacts")))])],1)],1),n("div",{staticClass:"col-md-6 col-xs-6 q-pa-xs"},[n("AddWallet")],1)])],1)},r=[],l=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),s=n.n(l),i=n("2f62"),c=n("ed08"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-btn",{staticClass:"bg-light-blue-14 text-white full-width q-pt-xs q-pl-none q-pr-none q-pb-sm",attrs:{push:"",stack:""},on:{click:function(t){e.newWalletDialog=!0}}},[n("q-icon",{staticClass:"text-white q-mr-sm",attrs:{name:"add_box",size:"1.8rem"}}),n("div",{staticStyle:{"font-size":"0.8rem"}},[e._v(e._s(e.$t("Add wallet")))])],1),n("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},model:{value:e.newWalletDialog,callback:function(t){e.newWalletDialog=t},expression:"newWalletDialog"}},[n("q-card",{staticClass:"dialog-min300"},[n("form",{attrs:{autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.saveNewWallet(t)}}},[n("q-card-section",{staticClass:"q-gutter-md"},[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Add wallet")))]),n("q-input",{attrs:{outlined:"",clearable:"",spellcheck:"false",label:e.$t("Title"),hint:e.$t("Optional")},model:{value:e.newTitle,callback:function(t){e.newTitle=t},expression:"newTitle"}}),n("q-input",{attrs:{outlined:"",clearable:"",spellcheck:"false",autogrow:"",label:e.$t("Mnemonic"),error:e.newMnemonicIsError,"error-message":e.newMnemonicErrorMsg},scopedSlots:e._u([{key:"after",fn:function(){return[n("q-btn",{style:e.generateWalletLoading?"cursor-pointer: none;":"",attrs:{flat:"",stack:"",round:"","no-caps":"",icon:"cached",disabled:e.generateWalletLoading,loading:e.generateWalletLoading},on:{click:e.generateWallet},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-gears")]},proxy:!0}])})]},proxy:!0}]),model:{value:e.newMnemonic,callback:function(t){e.newMnemonic=t},expression:"newMnemonic"}}),n("div",[n("q-btn",{staticClass:"full-width",attrs:{type:"submit",label:e.$t("Add wallet"),color:"primary",disabled:!e.newMnemonic||!e.newMnemonic.length}})],1)],1)],1)])],1)],1)},u=[],d=n("a2dc");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"AddWallet",data:function(){return{newWalletDialog:!1,newTitle:null,newMnemonic:null,newMnemonicIsError:null,newMnemonicErrorMsg:null,generateWalletLoading:!1}},methods:{generateWallet:function(){var e=this;this.generateWalletLoading=!0,setTimeout((function(){e.newMnemonic=Object(d["a"])()._mnemonic}),200)},saveNewWallet:function(){if(Object(d["b"])(this.newMnemonic)){var e=Object(d["c"])(this.newMnemonic),t={address:e.getAddressString(),privateKey:e.getPrivateKeyString(),mnemonic:e.getMnemonic()},n=this.findWallet(t.address);if(n&&n.address)this.newMnemonicIsError=!0,this.newMnemonicErrorMsg=this.$t("This wallet already exists");else{var a=this.findProfile(t.address);t.title=this.newTitle||(a?a.title:"")||(this.walletsSelect.length?this.walletsSelect.length+1+" wallet":"Main wallet"),t.icon=a?a.icon:"",this.newWalletDialog=!1,this.$store.commit("SAVE_WALLET",t),this.$store.dispatch("FETCH_BALANCE"),this.$store.dispatch("FETCH_DELEGATION"),this.$router.push({path:"/wallet"})}}else this.newMnemonicIsError=!0,this.newMnemonicErrorMsg="Invalid mnemonic"}},computed:m({},Object(i["c"])({address:function(e){return e.wallet.address}}),{},Object(i["b"])(["walletsSelect","findWallet","findProfile"])),watch:{newWalletDialog:function(){this.newMnemonic=null,this.newTitle=null},newMnemonic:function(e){var t=this;setTimeout((function(){t.newMnemonicIsError=!1,t.generateWalletLoading=!1}),200)}}},b=f,w=n("2877"),h=n("eebe"),g=n.n(h),v=n("9c40"),O=n("0016"),y=n("24e8"),j=n("f09f"),_=n("a370"),q=n("27f9"),E=n("cf57"),P=Object(w["a"])(b,o,u,!1,null,null,null),W=P.exports;g()(P,"components",{QBtn:v["a"],QIcon:O["a"],QDialog:y["a"],QCard:j["a"],QCardSection:_["a"],QInput:q["a"],QSpinnerGears:E["a"]});var x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(t){return e.selectWallet(e.wallet.address)}}},[n("q-item-section",{staticClass:"q-ml-none",attrs:{top:"",avatar:""}},[n("q-avatar",{attrs:{"text-color":"green",rounded:""}},[e.wallet.address===e.activeAddress?n("q-icon",{staticClass:"wallet__active-icon",attrs:{name:"check_circle",color:"green",size:"1rem"}}):e._e(),e.wallet.icon?n("q-img",{staticStyle:{height:"40px"},attrs:{src:e.wallet.icon,"spinner-color":"primary","spinner-size":"sm"},scopedSlots:e._u([{key:"error",fn:function(){return[n("div",{staticClass:"avatar__text text-white bg-primary"},[e._v(e._s(e.wallet.title[0]))])]},proxy:!0}],null,!1,1804216258)}):n("q-icon",{attrs:{name:"person",color:"grey",size:"2rem"}})],1)],1),n("q-item-section",[n("q-item-label",{attrs:{lines:"1"},domProps:{innerHTML:e._s(e.wallet.label)}}),n("q-item-label",{attrs:{caption:"",lines:"1"}},[e._v(e._s(e.wallet.caption))])],1),n("q-item-section",{attrs:{side:""}},[e.value?n("b",{staticClass:"text-grey-10",domProps:{innerHTML:e._s(e.value+" BIP")}}):e.wallet.balance?n("b",{staticClass:"text-grey-10",domProps:{innerHTML:e._s(e.wallet.balance+" BIP")}}):n("q-spinner-rings",{attrs:{size:"2em"}})],1)],1)},C=[],M=n("967e"),S=n.n(M),A=(n("96cf"),n("fa84")),D=n.n(A);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={name:"WalletItem",props:{wallet:Object},data:function(){return{value:null}},created:function(){var e=this;return D()(S.a.mark((function t(){var n;return S.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("FETCH_BALANCE_ADDRESS",e.wallet.address);case 2:n=t.sent,e.value=Object(c["d"])(n.total_balance_sum,2,!0);case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){},methods:{selectWallet:function(e){this.$store.commit("SET_WALLET",e),this.$store.dispatch("FETCH_BALANCE"),this.$store.dispatch("FETCH_DELEGATION"),this.$router.push({path:"/wallet"})}},computed:k({},Object(i["c"])({activeAddress:function(e){return e.wallet.address}}))},I=T,L=n("66e5"),Q=n("4074"),z=n("cb32"),N=n("068f"),H=n("0170"),B=n("792f"),F=n("714f"),G=Object(w["a"])(I,x,C,!1,null,null,null),R=G.exports;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}g()(G,"components",{QItem:L["a"],QItemSection:Q["a"],QAvatar:z["a"],QIcon:O["a"],QImg:N["a"],QItemLabel:H["a"],QSpinnerRings:B["a"]}),g()(G,"directives",{Ripple:F["a"]});var V={name:"Index",components:{AddWallet:W,WalletItem:R},data:function(){return{language:this.$i18n.locale,qrAddress:!1,currentWallet:null}},created:function(){this.currentWallet=this.findWallet(this.address)},methods:{prettyNumber:function(e,t){return Object(c["d"])(e,t)},copyAddress:function(){var e=this;navigator.clipboard.writeText(this.address).then((function(){e.$q.notify({message:e.$t("Address copied"),color:"purple",position:"bottom",timeout:300})})).catch((function(){}))}},computed:K({},Object(i["c"])({address:function(e){return e.wallet.address},wallets:function(e){return e.wallet.wallets},balance:function(e){return e.api.balance}}),{},Object(i["b"])(["balanceSum","balanceCustom","walletsSelect","findWallet"]))},U=V,X=n("9989"),Y=n("1c1c"),Z=Object(w["a"])(U,a,r,!1,null,null,null);t["default"]=Z.exports;g()(Z,"components",{QPage:X["a"],QItemLabel:H["a"],QCard:j["a"],QList:Y["a"],QBtn:v["a"],QIcon:O["a"]})}}]);