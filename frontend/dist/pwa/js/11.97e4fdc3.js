(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{cee8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-layout",{attrs:{view:"hHh lpR fFf"}},[n("q-page-container",[n("q-page",{staticClass:"flex flex-center"},[n("q-stepper",{ref:"stepper",staticStyle:{width:"100%"},attrs:{"alternative-labels":"",color:"primary",animated:""},scopedSlots:t._u([{key:"navigation",fn:function(){return[n("q-stepper-navigation",[n("div",{staticClass:"fit row reverse wrap justify-between items-end content-end"},[t.step<3?n("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(e){return t.$refs.stepper.next()}}}):t._e(),3===t.step?n("q-btn",{attrs:{type:"submit",disabled:!t.validateMnemonic(t.mnemonic),form:"mnemonicLogin",color:"primary",label:"Login"}}):t._e(),t.step>2?n("q-btn",{attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(e){return t.$refs.stepper.previous()}}}):t._e()],1)])]},proxy:!0}]),model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[n("q-step",{staticStyle:{height:"250px"},attrs:{name:2,title:"About",icon:"settings",done:t.step>2}},[n("div",{staticClass:"text-h5 text-center"},[t._v("WALLET.REEF.MN")]),n("div",{staticClass:"text-center q-mt-md"},[n("q-img",{attrs:{src:"statics/app-logo-128x128.png",height:"128px",width:"128px"}})],1)]),n("q-step",{staticStyle:{height:"250px","text-align":"center"},attrs:{name:3,title:"Login",icon:"settings",done:t.step>3}},[t.loadingWallet?n("div",{staticClass:"text-center q-mt-lg"},[n("q-spinner-oval",{attrs:{color:"primary",size:"8rem"}})],1):n("div",[n("q-btn",{staticClass:"q-mt-md",attrs:{color:"secondary"},on:{click:t.generateWallet}},[t._v("Create new wallet")]),n("div",{staticClass:"text-bold q-mt-md q-mb-md"},[t._v("Or")]),n("form",{attrs:{id:"mnemonicLogin"},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.signIn(e)}}},[n("q-input",{attrs:{outlined:"",autogrow:"",label:"Login by Seed phrase",rules:[function(t){return!!t||"Field is required"},function(e){return t.validateMnemonic(e)||"Invalid seed phrase"}]},model:{value:t.mnemonic,callback:function(e){t.mnemonic=e},expression:"mnemonic"}})],1)],1)])],1)],1)],1)],1)},i=[],s=n("967e"),r=n.n(s),o=(n("96cf"),n("fa84")),l=n.n(o),c=n("a2dc"),p={name:"Login",data:function(){return{step:2,loadingWallet:!1,wallet:null,mnemonic:""}},methods:{signIn:function(){Object(c["b"])(this.mnemonic)&&this.authSeed()},validateMnemonic:function(t){return Object(c["b"])(t)},authSeed:function(){var t=this;this.loadingWallet=!0,setTimeout((function(){t.wallet=Object(c["c"])(t.mnemonic),t.walletLogin()}),100)},generateWallet:function(){var t=this;this.loadingWallet=!0,setTimeout((function(){t.wallet=Object(c["a"])(),t.walletLogin()}),100)},walletLogin:function(){var t=this,e={address:this.wallet.getAddressString(),privateKey:this.wallet.getPrivateKeyString(),mnemonic:this.wallet.getMnemonic()};this.$store.dispatch("GET_PROFILE",e.address).then(function(){var n=l()(r.a.mark((function n(a){return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.title=a&&a.title?a.title:"Main wallet",e.icon=a&&a.icon?a.icon:"",t.$store.commit("SAVE_WALLET",e),n.next=5,t.$store.dispatch("FETCH_BALANCE");case 5:return n.next=7,t.$store.dispatch("FETCH_COINS");case 7:return n.next=9,t.$store.dispatch("FETCH_DELEGATION");case 9:t.$router.push({path:"/"});case 10:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}}},u=p,m=n("2877"),d=n("eebe"),f=n.n(d),g=n("4d5a"),h=n("09e3"),v=n("9989"),b=n("f531"),w=n("87fe"),x=n("068f"),q=n("9c40"),y=n("27f9"),L=n("1b41"),C=n("b19c"),S=Object(m["a"])(u,a,i,!1,null,null,null);e["default"]=S.exports;f()(S,"components",{QLayout:g["a"],QPageContainer:h["a"],QPage:v["a"],QStepper:b["a"],QStep:w["a"],QImg:x["a"],QBtn:q["a"],QInput:y["a"],QSpinnerOval:L["a"],QStepperNavigation:C["a"]})}}]);