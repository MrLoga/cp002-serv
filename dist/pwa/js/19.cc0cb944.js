(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{7853:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("q-card",{attrs:{flat:"",bordered:""}},[s("q-card-section",[s("div",{staticClass:"row items-center no-wrap"},[t.user?s("div",{staticClass:"col"},[s("div",{staticClass:"text-h5"},[t._v(t._s(t.user.username))]),s("span",{staticClass:"text-caption text-grey-7"},[t._v(t._s(t.user.email))])]):s("div",{staticClass:"col"},[s("div",{staticClass:"text-h5"},[t._v("???")])])])])],1),s("div",{staticClass:"text-h6 q-pl-md q-pb-xs q-mt-lg"},[t._v("\n    "+t._s(t.$t("Settings"))+"\n    "),t.user&&"Paid"!==t.user.role.name?s("span",{staticClass:"text-caption q-ml-md text-grey-7"},[t._v("Disabled")]):t._e()]),s("q-card",{attrs:{flat:"",bordered:""}},[s("q-card-section",[s("div",{staticClass:"q-gutter-sm"},[s("q-checkbox",{attrs:{disable:t.user&&"Paid"!==t.user.role.name,label:t.$t("Sync contacts")},model:{value:t.syncContacts,callback:function(e){t.syncContacts=e},expression:"syncContacts"}})],1),s("div",{staticClass:"q-gutter-sm"},[s("q-checkbox",{attrs:{disable:t.user&&"Paid"!==t.user.role.name,label:t.$t("Sync wallets")},model:{value:t.syncWallets,callback:function(e){t.syncWallets=e},expression:"syncWallets"}})],1),s("div",{staticClass:"q-gutter-sm"},[s("q-checkbox",{attrs:{disable:t.user&&"Paid"!==t.user.role.name,label:t.$t("Sync observers")},model:{value:t.syncObservers,callback:function(e){t.syncObservers=e},expression:"syncObservers"}})],1)])],1),s("div",{staticClass:"text-h6 q-pa-md q-mt-md"},[t._v(t._s(t.$t("Subscriptions")))]),t.user?s("q-card",{attrs:{flat:"",bordered:""}},[s("q-card-section",[s("div",{staticClass:"row items-center no-wrap"},[s("div",{staticClass:"col-9"},[s("div",{staticClass:"text-subtitle2"},[t._v("\n            "+t._s(t.$t("Synchronization"))+"\n            "),t.user&&"Paid"===t.user.role.name?s("q-icon",{attrs:{color:"positive",size:"xs",name:"done"}}):t._e()],1),s("div",{staticClass:"text-caption q-pt-sm"},[t._v(t._s(t.$t("Sync wallets and contacts across devices and platforms")))])]),"Paid"!==t.user.role.name?s("div",{staticClass:"col"},[s("q-btn",{staticClass:"bg-light-blue-14 text-white full-width",attrs:{dense:"",size:"0.9em",label:t.$t("Buy")},on:{click:function(e){t.payTariffDialog=!0}}}),s("div",{staticClass:"text-caption text-center q-pt-sm"},[t._v(t._s(t.$t("from"))+" 0.75$")])],1):s("div",{staticClass:"col"},[s("q-btn",{staticClass:"text-white full-width",attrs:{color:"positive",dense:"",size:"0.9em",label:t.$t("Renew")},on:{click:function(e){t.payTariffDialog=!0}}}),s("div",{staticClass:"text-caption text-center q-pt-sm"},[t._v(t._s(t.$t("Tariff ends"))),s("br"),t._v(t._s(t.user.endTariff))])],1)])])],1):t._e(),s("Tarif",{attrs:{rootDialog:t.payTariffDialog},on:{"update:rootDialog":function(e){t.payTariffDialog=e}}})],1)},i=[],r=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("c47a")),n=s.n(r),c=s("967e"),o=s.n(c),l=(s("96cf"),s("fa84")),d=s.n(l),f=s("2f62"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-dialog",{attrs:{"full-width":"","transition-show":"scale","transition-hide":"scale"},on:{hide:t.onRootDialogHide},model:{value:t.rootDialog,callback:function(e){t.rootDialog=e},expression:"rootDialog"}},[t.user&&t.address&&t.address.length?s("q-card",{staticClass:"dialog-min300"},["Authenticated"===t.user.role.name?s("q-card-section",[s("div",{staticClass:"text-h5 text-center"},[t._v(t._s(t.$t("Please")))]),s("div",{staticClass:"text-h5 text-center q-ma-none"},[t._v(t._s(t.$t("select a subscription plan")))])]):s("q-card-section",[s("div",{staticClass:"text-h5 text-center q-mt-md q-mb-none"},[t._v(t._s(t.$t("Renew your subscription plan")))])]),t.tariff?s("q-card-section",[s("q-card",{staticClass:"q-mb-sm",attrs:{flat:"",bordered:""}},[s("q-card-section",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.selectTariff("month")}}},[s("div",{staticClass:"row items-center no-wrap"},[s("div",{staticClass:"col-9"},[s("div",{staticClass:"text-h6 text-positive"},[t._v("1 "+t._s(t.$t("month")))]),s("div",{staticClass:"text-caption text-grey-7"},[t._v(t._s(t.$t("Billed monthly")))])]),s("div",{staticClass:"col text-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.tariff.month)+"$")]),s("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.Big(t.tariff.month).div(t.tariff.currency).round(0,3).toString())+" bip")])])])])],1),s("q-card",{staticClass:"q-mb-sm",attrs:{flat:"",bordered:""}},[s("q-card-section",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.selectTariff("year")}}},[s("div",{staticClass:"row items-center no-wrap"},[s("div",{staticClass:"col-9"},[s("div",{staticClass:"text-h6 text-positive"},[t._v("1 "+t._s(t.$t("year")))]),s("div",{staticClass:"text-caption text-grey-7"},[t._v(t._s(t.$t("Billed yearly")))])]),s("div",{staticClass:"col text-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.tariff.year)+"$")]),s("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.Big(t.tariff.year).div(t.tariff.currency).round(0,3).toString())+" bip")])])])])],1),s("q-card",{staticClass:"q-mb-sm",attrs:{flat:"",bordered:""}},[s("q-card-section",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.selectTariff("forever")}}},[s("div",{staticClass:"row items-center no-wrap"},[s("div",{staticClass:"col-9"},[s("div",{staticClass:"text-h6 text-positive"},[t._v("1 "+t._s(t.$t("Forever")))]),s("div",{staticClass:"text-caption text-grey-7"},[t._v(t._s(t.$t("Billed once")))])]),s("div",{staticClass:"col text-center"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.tariff.forever)+"$")]),s("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.Big(t.tariff.forever).div(t.tariff.currency).round(0,3).toString())+" bip")])])])])],1)],1):s("q-card-section",{staticClass:"text-center"},[s("q-skeleton",{staticClass:"q-mb-xs",attrs:{height:"68px"}}),s("q-skeleton",{staticClass:"q-mb-xs",attrs:{height:"68px"}}),s("q-skeleton",{staticClass:"q-mb-xs",attrs:{height:"68px"}})],1)],1):t._e()],1),s("q-dialog",{attrs:{"full-width":"","transition-show":"scale","transition-hide":"scale"},on:{hide:t.onPayTariffDialogHide},model:{value:t.payTariffDialog,callback:function(e){t.payTariffDialog=e},expression:"payTariffDialog"}},[t.address&&t.address.length?s("q-card",{staticClass:"dialog-min300"},[s("q-card-section",{staticClass:"text-center"},[s("q-icon",{staticClass:"q-mb-sm",attrs:{name:"stars",size:"lg",color:"positive"}}),s("div",{staticClass:"text-h5 q-mb-md"},[t._v(t._s(t.$t("Pay for a subscription?")))]),s("div",{staticClass:"text-subtitle1"},[t._v(t._s(t.$t("Wallet"))+": "),s("b",[t._v(t._s(t.findWallet(t.address).title))])]),null!==t.selectedTariff?s("div",{staticClass:"text-subtitle1"},[t._v(t._s(t.$t("Cost"))+": "),s("b",[t._v(t._s(t.Big(t.tariff[t.selectedTariff]).div(t.tariff.currency).round(0,3).toString())+" bip")])]):t._e()],1),s("q-card-actions",{staticClass:"q-pb-md",attrs:{align:"center"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"red",flat:"",label:t.$t("Cancel")}}),s("q-btn",{attrs:{color:"positive",loading:t.loadingTariffDialog,label:t.$t("Pay")},on:{click:t.payTariff}})],1)],1):t._e()],1),s("q-dialog",{attrs:{"full-width":"","transition-show":"scale","transition-hide":"scale"},model:{value:t.paidDialog,callback:function(e){t.paidDialog=e},expression:"paidDialog"}},[s("q-card",{staticClass:"dialog-min300"},[s("q-card-section",{staticClass:"text-center"},[s("q-icon",{staticClass:"q-mb-sm",attrs:{name:"stars",size:"lg",color:"positive"}}),s("div",{staticClass:"text-h5 q-mb-md"},[t._v(t._s(t.$t("Congratulations, the tariff has been successfully paid")))]),s("div",{staticClass:"text-subtitle1"},[t._v(t._s(t.$t("Tariff ends"))+" "),s("b",[t._v(t._s(t.user.endTariff))])])],1),s("q-card-actions",{staticClass:"q-pb-md",attrs:{align:"center"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"positive",label:t.$t("Excellent")}})],1)],1)],1)],1)},p=[],v=(s("6b54"),s("9dcd")),b=s.n(v);function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"Tarif",props:{rootDialog:Boolean},data:function(){return{payTariffDialog:!1,loadingTariffDialog:!1,paidDialog:!1,selectedTariff:null,tariff:null}},created:function(){var t=this;this.$store.dispatch("GET_HELPER").then((function(e){t.tariff=e}))},methods:{Big:function(t){return b()(t)},onPayTariffDialogHide:function(){this.selectedTariff=null},selectTariff:function(t){this.address&&this.address.length&&(this.$emit("update:rootDialog",!1),this.payTariffDialog=!0,this.selectedTariff=t)},onRootDialogHide:function(){this.$emit("update:rootDialog",!1)},payTariff:function(){var t=this;return d()(o.a.mark((function e(){var s,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingTariffDialog=!0,s=(((new Date).getTime()-1596493228437)/1e3).toFixed(0),e.next=4,t.$store.dispatch("PAY_TARIFF",{tariff:t.selectedTariff,privateKey:t.privateKey,password:t.user.id,nonce:s,coin:"BIP",value:b()(t.tariff[t.selectedTariff]).div(t.tariff.currency).round(0,3).toString(),gasCoin:"BIP",dueBlock:9999999});case 4:a=e.sent,a&&!a.message?t.$store.dispatch("GET_USER_PROFILE").then((function(e){t.paidDialog=!0,t.payTariffDialog=!1,t.loadingTariffDialog=!1,t.selectedTariff=null,t.$store.dispatch("SYNC_USER_CONTACTS")})):(console.log(a.message),t.loadingTariffDialog=!1,t.payTariffDialog=!1,t.selectedTariff=null);case 6:case"end":return e.stop()}}),e)})))()}},computed:g({},Object(f["c"])({address:function(t){return t.wallet.address},privateKey:function(t){return t.wallet.privateKey},user:function(t){return t.user.user}}),{},Object(f["b"])(["findWallet","balanceSelect","balanceObj","coinsInfo"]))},C=h,_=s("2877"),y=s("eebe"),x=s.n(y),q=s("24e8"),T=s("f09f"),w=s("a370"),O=s("293e"),$=s("0016"),D=s("4b7e"),S=s("9c40"),P=s("714f"),k=s("7f67"),j=Object(_["a"])(C,u,p,!1,null,null,null),E=j.exports;function Q(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function B(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}x()(j,"components",{QDialog:q["a"],QCard:T["a"],QCardSection:w["a"],QSkeleton:O["a"],QIcon:$["a"],QCardActions:D["a"],QBtn:S["a"]}),x()(j,"directives",{Ripple:P["a"],ClosePopup:k["a"]});var N={name:"Profile",components:{Tarif:E},data:function(){return{payTariffDialog:!1}},created:function(){this.isAuth?console.log("isAuth",this.user):this.$router.push({path:"/profile/login"})},mounted:function(){},methods:{sync:function(){var t=this;return d()(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("SYNC_USER_CONTACTS");case 1:case"end":return e.stop()}}),e)})))()},logout:function(){this.$store.commit("LOGOUT_JWT"),this.$router.push({path:"/"})}},computed:B({},Object(f["c"])({user:function(t){return t.user.user},address:function(t){return t.wallet.address},contacts:function(t){return t.contacts.contacts}}),{},Object(f["b"])(["isAuth","findWallet"]),{syncContacts:{get:function(){return this.$store.state.user.syncContacts},set:function(t){this.$store.commit("SET_SYNC_SETTINGS",["syncContacts",t])}},syncWallets:{get:function(){return this.$store.state.user.syncWallets},set:function(t){this.$store.commit("SET_SYNC_SETTINGS",["syncWallets",t])}},syncObservers:{get:function(){return this.$store.state.user.syncObservers},set:function(t){this.$store.commit("SET_SYNC_SETTINGS",["syncObservers",t])}}})},I=N,R=s("9989"),W=s("4e73"),A=s("1c1c"),z=s("66e5"),G=s("4074"),Y=s("8f8e"),F=Object(_["a"])(I,a,i,!1,null,null,null);e["default"]=F.exports;x()(F,"components",{QPage:R["a"],QCard:T["a"],QCardSection:w["a"],QBtn:S["a"],QMenu:W["a"],QList:A["a"],QItem:z["a"],QItemSection:G["a"],QCheckbox:Y["a"],QIcon:$["a"]})}}]);