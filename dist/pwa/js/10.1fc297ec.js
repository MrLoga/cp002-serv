(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"9a1b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[t.showCamera?a("div",{staticClass:"q-mt-lg"},[a("qrcode-stream",{attrs:{track:t.repaint},on:{init:t.onInit,decode:t.onDecode}})],1):t._e(),!t.showCamera&&t.importRes?a("q-card",{staticClass:"q-mt-lg"},[a("q-card-section",{staticClass:"text-center"},[a("div",{staticClass:"text-h5 text-grey-7"},[t._v("\n        "+t._s(t.$t("You are"))+"\n        "),t.TX_TYPE("SEND")===t.importRes.type?a("span",[t._v(t._s(t.$t("Send dialog")))]):t._e(),t.TX_TYPE("DELEGATE")===t.importRes.type?a("span",[t._v(t._s(t.$t("Delegate dialog")))]):t._e()]),a("div",{staticClass:"text-h6"},[t._v("\n        "+t._s(t.prettyNumber(t.importRes.data.value,5))+" "+t._s(t.importRes.data.coin)+"\n      ")])]),a("q-card-section",{staticClass:"row justify-center items-center q-pt-none"},[t.profile&&t.profile.icon?a("q-avatar",[a("img",{attrs:{src:t.profile.icon}})]):a("q-icon",{staticStyle:{color:"#ccc"},attrs:{size:"xl",name:"DELEGATE"===t.txType?"developer_board":"account_circle"}}),t.profile&&t.profile.title?a("span",{staticClass:"q-ml-sm"},[t._v("\n        "+t._s(t.profile.title)+"\n        "),a("div",{staticClass:"text-grey-7"},[t._v(t._s(t.importRes.data.to.substr(0,4)+"..."+t.importRes.data.to.substr(-4)))])]):t._e()],1),a("q-separator",{attrs:{inset:""}}),a("q-card-actions",{attrs:{align:"around"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("Cancel"),color:"red"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("Accept"),color:"primary"},on:{click:t.sender}})],1)],1):t.sended?a("q-card",{staticClass:"q-pa-md"},[a("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("Transaction successful")))]),t._v("\n    "+t._s(t.sended)+"\n  ")]):t._e(),a("q-separator",{directives:[{name:"show",rawName:"v-show",value:!t.showCamera,expression:"!showCamera"}],staticClass:"q-mb-lg q-mt-lg",attrs:{inset:""}}),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showCamera,expression:"!showCamera"}],staticClass:"bg-light-blue-14 text-white full-width q-pa-sm q-mt-lg",attrs:{push:"",stack:"",icon:"camera_alt",label:"Read new QRCode",size:"lg"},on:{click:function(e){return t.turnCameraOn()}}})],1)},o=[],s=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),n=a.n(s),i=a("967e"),c=a.n(i),l=(a("7f7f"),a("96cf"),a("fa84")),p=a.n(l),u=a("9a3e"),d=a("2f62"),m=a("b862"),f=a("ed08");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){n()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={name:"QRcode",components:{QrcodeStream:u["QrcodeStream"]},data:function(){return{isValid:void 0,showCamera:!0,camera:"auto",result:null,profile:null,importRes:null,sended:!1}},created:function(){},methods:{TX_TYPE:function(t){return m["b"][t]},prettyNumber:function(t,e){return Object(f["d"])(t,e)},repaint:function(t,e){var a=t.topLeftCorner,r=t.topRightCorner,o=t.bottomLeftCorner,s=t.bottomRightCorner;e.strokeStyle="blue",e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(o.x,o.y),e.lineTo(s.x,s.y),e.lineTo(r.x,r.y),e.lineTo(a.x,a.y),e.closePath(),e.stroke()},turnCameraOn:function(){this.camera="auto",this.showCamera=!0},turnCameraOff:function(){this.camera="off",this.showCamera=!1},onInit:function(t){return p()(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),"NotAllowedError"===e.t0.name||"NotFoundError"===e.t0.name||"NotSupportedError"===e.t0.name||"NotReadableError"===e.t0.name||"OverconstrainedError"===e.t0.name||e.t0.name;case 8:return e.prev=8,e.finish(8);case 10:case"end":return e.stop()}}),e,null,[[0,5,8,10]])})))()},onDecode:function(t){var e=this;return p()(c.a.mark((function a(){var r;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.sended=!1,e.result=t,e.turnCameraOff(),r=Object(f["a"])(t),!r||"Mx"!==r&&"Mp"!==r)try{e.importRes=Object(m["c"])(t),e.profile=e.findUser(e.importRes.data.to),console.log(e.importRes),e.confirmSend=!0}catch(o){console.log(o)}else e.$router.push({name:"send",params:{import:{address:t}}});case 5:case"end":return a.stop()}}),a)})))()},makeTxData:function(){var t={data:{coin:this.importRes.data.coin},payload:this.importRes.payload,gasCoin:this.importRes.gasCoin||"BIP"};return this.importRes.type===m["b"].SEND?(t.type="SEND",t.data.value=this.importRes.data.value,t.data.to=this.importRes.data.to):this.importRes.type===m["b"].DELEGATE&&(t.type="DELEGATE",t.data.stake=this.importRes.data.stack,t.data.publicKey=this.importRes.data.publicKey),t},sender:function(){var t=this,e=this.makeTxData();this.$store.dispatch("SENDER",e).then((function(e){t.$q.notify({message:t.$t("Transaction successful"),icon:"tag_faces",color:"teal",position:"bottom"}),setTimeout((function(){t.importRes=null,t.sended=e,"SEND"===t.txType?t.$store.dispatch("FETCH_BALANCE").then((function(e){t.setDefaultCoin()})):t.$store.dispatch("FETCH_DELEGATION")}),2e3)})).catch((function(e){console.log(e),t.$q.notify({message:e,icon:"report_problem",color:"negative",position:"bottom"})}))}},computed:b({},Object(d["b"])(["findUser"]))},C=v,w=a("2877"),y=a("eebe"),g=a.n(y),E=a("9989"),_=a("f09f"),O=a("a370"),R=a("cb32"),q=a("0016"),x=a("eb85"),T=a("4b7e"),D=a("9c40"),j=a("24e8"),N=a("7f67"),k=Object(w["a"])(C,r,o,!1,null,null,null);e["default"]=k.exports;g()(k,"components",{QPage:E["a"],QCard:_["a"],QCardSection:O["a"],QAvatar:R["a"],QIcon:q["a"],QSeparator:x["a"],QCardActions:T["a"],QBtn:D["a"],QDialog:j["a"]}),g()(k,"directives",{ClosePopup:N["a"]})}}]);