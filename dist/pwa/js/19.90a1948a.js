(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{7853:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("q-card",{attrs:{flat:"",bordered:""}},[s("q-card-section",[s("div",{staticClass:"row items-center no-wrap"},[t.user?s("div",{staticClass:"col"},[s("div",{staticClass:"text-h5"},[t._v(t._s(t.user.username)),s("span",{staticClass:"text-caption q-ml-lg"},[t._v(t._s(t.user.email))])]),"Paid"===t.user.role.name?s("div",{staticClass:"text-caption"},[t._v("\n            "+t._s(t.$t("Tariff ends"))+" - "+t._s(t.user.endTariff)+"\n          ")]):t._e()]):s("div",{staticClass:"col"},[s("div",{staticClass:"text-h5"},[t._v("???")])]),s("div",{staticClass:"col-auto"},[s("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"more_vert"}},[s("q-menu",{attrs:{cover:"","auto-close":""}},[s("q-list",[s("q-item",{attrs:{clickable:""},on:{click:t.logout}},[s("q-item-section",[t._v(t._s(t.$t("Logout")))])],1)],1)],1)],1)],1)])])],1),s("div",{staticClass:"q-mt-md"},[s("q-item-label",{attrs:{header:""}},[t._v(t._s(t.$t("Settings")))]),s("div",{staticClass:"q-gutter-sm"},[s("q-checkbox",{attrs:{label:t.$t("Sync contacts")},model:{value:t.syncContacts,callback:function(e){t.syncContacts=e},expression:"syncContacts"}})],1),s("div",{staticClass:"q-gutter-sm"},[s("q-checkbox",{attrs:{label:t.$t("Sync wallets")},model:{value:t.syncWallets,callback:function(e){t.syncWallets=e},expression:"syncWallets"}})],1),s("div",{staticClass:"q-gutter-sm"},[s("q-checkbox",{attrs:{label:t.$t("Sync observers")},model:{value:t.syncObservers,callback:function(e){t.syncObservers=e},expression:"syncObservers"}})],1)],1),s("div",{staticClass:"q-pt-lg"},[s("Tarif")],1)],1)},i=[],r=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("c47a")),n=s.n(r),c=s("967e"),o=s.n(c),l=(s("96cf"),s("fa84")),f=s.n(l),u=s("2f62"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["Authenticated"===t.user.role.name?s("div",[s("div",{staticClass:"text-h4 text-center q-mt-md"},[t._v(t._s(t.$t("Please")))]),s("div",{staticClass:"text-h4 text-center q-mb-md"},[t._v(t._s(t.$t("choose a tariff")))])]):s("div",[s("div",{staticClass:"text-h4 text-center q-mt-md q-mb-md"},[t._v(t._s(t.$t("Extend tariff")))])]),s("div",{staticClass:"row justify-center"},[s("div",{staticClass:"col-xs-8"},[t.tariff?s("q-list",{staticClass:"q-mb-md text-center",attrs:{separator:"",bordered:""}},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.selectTariff("month")}}},[s("q-item-section",[s("div",{staticClass:"text-h6 text-teal"},[t._v("1 "+t._s(t.$t("month")))]),s("div",{staticClass:"text-subtitle1 text-caption"},[t._v(t._s(t.Big(t.tariff.month).div(t.tariff.currency).round(0,3).toString())+" bip")])])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.selectTariff("year")}}},[s("q-item-section",[s("div",{staticClass:"text-h5 text-center text-green"},[t._v("1 "+t._s(t.$t("year")))]),s("div",{staticClass:"text-subtitle1 text-caption"},[t._v(t._s(t.Big(t.tariff.year).div(t.tariff.currency).round(0,3).toString())+" bip")])])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.selectTariff("forever")}}},[s("q-item-section",[s("div",{staticClass:"text-h5 text-center text-positive"},[s("b",[t._v(t._s(t.$t("Forever")))])]),s("div",{staticClass:"text-subtitle1 text-caption"},[t._v(t._s(t.Big(t.tariff.forever).div(t.tariff.currency).round(0,3).toString())+" bip")])])],1)],1):s("div",{staticClass:"text-center"},[s("q-skeleton",{staticClass:"q-mb-xs",attrs:{height:"68px"}}),s("q-skeleton",{staticClass:"q-mb-xs",attrs:{height:"68px"}}),s("q-skeleton",{staticClass:"q-mb-xs",attrs:{height:"68px"}})],1)],1)]),s("q-dialog",{attrs:{"full-width":"","transition-show":"scale","transition-hide":"scale"},on:{hide:t.onPayTariffDialogHide},model:{value:t.payTariffDialog,callback:function(e){t.payTariffDialog=e},expression:"payTariffDialog"}},[t.address&&t.address.length?s("q-card",{staticClass:"dialog-min300"},[s("q-card-section",{staticClass:"text-center"},[s("q-icon",{staticClass:"q-mb-sm",attrs:{name:"stars",size:"lg",color:"positive"}}),s("div",{staticClass:"text-h5 q-mb-md"},[t._v(t._s(t.$t("Pay for a subscription?")))]),s("div",{staticClass:"text-subtitle1"},[t._v(t._s(t.$t("Wallet"))+": "),s("b",[t._v(t._s(t.findWallet(t.address).title))])]),null!==t.selectedTariff?s("div",{staticClass:"text-subtitle1"},[t._v(t._s(t.$t("Cost"))+": "),s("b",[t._v(t._s(t.Big(t.tariff[t.selectedTariff]).div(t.tariff.currency).round(0,3).toString())+" bip")])]):t._e()],1),s("q-card-actions",{staticClass:"q-pb-md",attrs:{align:"center"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"red",flat:"",label:t.$t("Cancel")}}),s("q-btn",{attrs:{color:"positive",loading:t.loadingTariffDialog,label:t.$t("Pay")},on:{click:t.payTariff}})],1)],1):t._e()],1),s("q-dialog",{attrs:{"full-width":"","transition-show":"scale","transition-hide":"scale"},model:{value:t.paidDialog,callback:function(e){t.paidDialog=e},expression:"paidDialog"}},[s("q-card",{staticClass:"dialog-min300"},[s("q-card-section",{staticClass:"text-center"},[s("q-icon",{staticClass:"q-mb-sm",attrs:{name:"stars",size:"lg",color:"positive"}}),s("div",{staticClass:"text-h5 q-mb-md"},[t._v(t._s(t.$t("Congratulations, the tariff has been successfully paid")))]),s("div",{staticClass:"text-subtitle1"},[t._v(t._s(t.$t("Tariff ends"))+" "),s("b",[t._v(t._s(t.user.endTariff))])])],1),s("q-card-actions",{staticClass:"q-pb-md",attrs:{align:"center"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"positive",label:t.$t("Excellent")}})],1)],1)],1)],1)},p=[],v=(s("6b54"),s("9dcd")),b=s.n(v);function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"Tarif",data:function(){return{payTariffDialog:!1,loadingTariffDialog:!1,paidDialog:!1,selectedTariff:null,tariff:null}},created:function(){var t=this;this.$store.dispatch("GET_HELPER").then((function(e){t.tariff=e}))},methods:{Big:function(t){return b()(t)},onPayTariffDialogHide:function(){this.selectedTariff=null},selectTariff:function(t){this.address&&this.address.length&&(this.payTariffDialog=!0,this.selectedTariff=t)},payTariff:function(){var t=this;return f()(o.a.mark((function e(){var s,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingTariffDialog=!0,s=(((new Date).getTime()-1596493228437)/1e3).toFixed(0),e.next=4,t.$store.dispatch("PAY_TARIFF",{tariff:t.selectedTariff,privateKey:t.privateKey,password:t.user.id,nonce:s,coin:"BIP",value:b()(t.tariff[t.selectedTariff]).div(t.tariff.currency).round(0,3).toString(),gasCoin:"BIP",dueBlock:9999999});case 4:a=e.sent,a&&!a.message?t.$store.dispatch("GET_USER_PROFILE").then((function(e){t.paidDialog=!0,t.payTariffDialog=!1,t.loadingTariffDialog=!1,t.selectedTariff=null})):(console.log(a.message),t.loadingTariffDialog=!1,t.payTariffDialog=!1,t.selectedTariff=null);case 6:case"end":return e.stop()}}),e)})))()}},computed:g({},Object(u["c"])({address:function(t){return t.wallet.address},privateKey:function(t){return t.wallet.privateKey},user:function(t){return t.user.user}}),{},Object(u["b"])(["findWallet","balanceSelect","balanceObj","coinsInfo"]))},y=h,_=s("2877"),C=s("eebe"),x=s.n(C),q=s("1c1c"),T=s("66e5"),O=s("4074"),w=s("293e"),S=s("24e8"),$=s("f09f"),j=s("a370"),P=s("0016"),k=s("4b7e"),D=s("9c40"),E=s("714f"),Q=s("7f67"),I=Object(_["a"])(y,d,p,!1,null,null,null),N=I.exports;function W(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function B(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?W(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):W(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}x()(I,"components",{QList:q["a"],QItem:T["a"],QItemSection:O["a"],QSkeleton:w["a"],QDialog:S["a"],QCard:$["a"],QCardSection:j["a"],QIcon:P["a"],QCardActions:k["a"],QBtn:D["a"]}),x()(I,"directives",{Ripple:E["a"],ClosePopup:Q["a"]});var A={name:"Profile",components:{Tarif:N},data:function(){return{}},created:function(){this.isAuth?console.log("isAuth",this.user):this.$router.push({path:"/profile/login"})},mounted:function(){},methods:{sync:function(){var t=this;return f()(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("SYNC_USER_CONTACTS");case 1:case"end":return e.stop()}}),e)})))()},logout:function(){this.$store.commit("LOGOUT_JWT"),this.$router.push({path:"/"})}},computed:B({},Object(u["c"])({user:function(t){return t.user.user},address:function(t){return t.wallet.address},contacts:function(t){return t.contacts.contacts}}),{},Object(u["b"])(["isAuth","findWallet"]),{syncContacts:{get:function(){return this.$store.state.user.syncContacts},set:function(t){this.$store.commit("SET_SYNC_SETTINGS",["syncContacts",t])}},syncWallets:{get:function(){return this.$store.state.user.syncWallets},set:function(t){this.$store.commit("SET_SYNC_SETTINGS",["syncWallets",t])}},syncObservers:{get:function(){return this.$store.state.user.syncObservers},set:function(t){this.$store.commit("SET_SYNC_SETTINGS",["syncObservers",t])}}})},L=A,G=s("9989"),R=s("4e73"),F=s("0170"),Y=s("8f8e"),K=Object(_["a"])(L,a,i,!1,null,null,null);e["default"]=K.exports;x()(K,"components",{QPage:G["a"],QCard:$["a"],QCardSection:j["a"],QBtn:D["a"],QMenu:R["a"],QList:q["a"],QItem:T["a"],QItemSection:O["a"],QItemLabel:F["a"],QCheckbox:Y["a"]})}}]);