(function(t){function e(e){for(var r,o,s=e[0],c=e[1],l=e[2],f=0,p=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0746":function(t,e,n){},1:function(t,e){},"1ae4":function(t,e,n){t.exports=n.p+"img/logo.5a6b6183.svg"},2:function(t,e){},3:function(t,e){},4:function(t,e){},"4f01":function(t,e,n){"use strict";var r=n("e2e5"),a=n.n(r);a.a},"557b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-app",{attrs:{params:t.f7params}},[n("f7-panel",{attrs:{right:"",resizable:""}},[n("f7-view",{attrs:{right:""}},[n("f7-page",[n("f7-block",[n("p",[t._v("Beta версия кошелька")]),t._v("\n\t\t\t\t\tПроект Cloud Projects\n\t\t\t\t")]),n("f7-list",[n("f7-list-item",{attrs:{link:"/balance",view:"#main__view","panel-close":"",title:"Баланс"}}),n("f7-list-item",{attrs:{link:"/send",view:"#main__view","panel-close":"",title:"Отправка"}}),n("f7-list-item",{attrs:{link:"/me",view:"#main__view","panel-close":"",title:"Мой адрес"}}),n("f7-list-item",{attrs:{link:"/delegations",view:"#main__view","panel-close":"",title:"Делегированно"}}),n("f7-list-item",{attrs:{link:"/history",view:"#main__view","panel-close":"",title:"История"}}),n("f7-list-item",{attrs:{divider:"",title:""}}),n("f7-list-item",{attrs:{link:"/auth",title:"Авторизации"}}),n("f7-list-item",{attrs:{link:"/settings",title:"Настройки"}}),n("f7-list-item",{attrs:{link:"/about",title:"О проекте"}}),n("f7-list-item",{attrs:{link:"#","panel-close":"",title:"Выйти"},on:{click:function(e){return t.$store.commit("LOGOUT")}}})],1)],1)],1)],1),n("f7-view",{attrs:{id:"main__view","push-state":!0,main:"",url:"/"}})],1)},i=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"CP002 Wallet β",link:"/"}},[t.isLogin?n("f7-nav-right",[n("f7-link",{attrs:{icon:"icon-bars","panel-open":"right"}},[n("f7-icon",{attrs:{material:"menu"}})],1)],1):t._e()],1),t.isLogin?n("div",[t.balances?n("div",[n("f7-list",[n("f7-list-item",{attrs:{link:"/balance",title:"Ваш общий баланс",footer:"Сумма доступных средств",after:t.balanceSum+" BIP"}}),n("f7-list-item",{attrs:{link:"/balance",title:"Из них в кастомах",footer:"Эквивалент в bip",after:t.balanceCustom+" BIP"}}),t.delegations&&t.delegations.length?n("f7-list-item",{attrs:{link:"/delegations",title:"Делегированно",footer:"Эквивалент в bip",after:t.delegationsSum+" BIP"}}):t._e()],1)],1):n("f7-block",{staticClass:"text-align-center"},[n("f7-preloader",{attrs:{size:60}})],1),t.payments&&t.payments.length?n("f7-block",[n("f7-block-title",[t._v("Запросы на перевод")]),t._l(t.payments,(function(t,e){return n("payment",{attrs:{item:t,index:e}})}))],2):n("f7-block",[n("f7-block-title",[t._v("Запросов нет")])],1),n("f7-block",[n("f7-block-title",[t._v("Счетов нет")])],1)],1):n("f7-block",[n("p",[t._v("Для начала нужно авторизоваться")]),n("f7-button",{attrs:{raised:"",large:"",fill:"",href:"/login"}},[t._v("Войти")])],1)],1)},c=[],l=n("2f62"),u=n("7618"),f=(n("34ef"),n("af56"),"http://localhost:3000/api");function p(t){var e=new Uint16Array(t.length);return Array.prototype.forEach.call(e,(function(e,n,r){r[n]=t.charCodeAt(n)})),btoa(String.fromCharCode.apply(null,new Uint8Array(e.buffer)))}function d(t,e,n){return new Promise((function(r,a){var i=new XMLHttpRequest;i.open(t,e),i.onload=function(){this.status>=200&&this.status<300?r(JSON.parse(i.response)):a({status:this.status,statusText:i.statusText})},i.onerror=function(){a({status:this.status,statusText:i.statusText})},i.setRequestHeader("Content-type","application/json; charset=utf-8"),i.send(JSON.stringify(n))}))}function m(t,e,n){var r={data:[]};Array.isArray(n)?r.data=n.map((function(t){return p(JSON.stringify(t))})):"object"===Object(u["a"])(n)&&r.data.push(p(JSON.stringify(n)));var a=f+"/"+t+"/"+e;return d("POST",a,r)}var b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-card",[n("f7-card-header",{staticClass:"no-border",attrs:{valign:"bottom"}},[n("div",[t._v("\n\t\t\tОт: "),n("b",[t._v(t._s(t.item.requesting))])])]),"pending"==t.item.status?n("f7-card-content",{domProps:{innerHTML:t._s(t.humanFriendly(t.item.txArray[0]))}}):t._e(),2==t.item.txArray.length?n("div",[n("f7-block",[t._v("Затем")]),n("f7-card-content",{domProps:{innerHTML:t._s(t.humanFriendly(t.item.txArray[0]))}})],1):t._e(),"reject"==t.item.status?n("f7-card-content",[n("f7-icon",{attrs:{material:"block"}}),t._v(" \n\t\tВы отменили запрос\n\t")],1):t._e(),"resolve"==t.item.status?n("f7-card-content",[n("f7-icon",{attrs:{material:"swap_horiz"}}),t._v(" \n\t\tВы совершили транзакцию\n\t")],1):t._e(),"timeout"==t.item.status?n("f7-card-content",[n("f7-icon",{attrs:{material:"av_timer"}}),t._v(" \n\t\tВремя транзакции истекло\n\t")],1):t._e(),"pending"==t.item.status?n("f7-block",[n("f7-row",[n("f7-col",[n("f7-button",{attrs:{outline:"",color:"red"},on:{click:t.reject}},[t._v("Отказать")])],1),n("f7-col",[n("f7-button",{attrs:{outline:""},on:{click:t.resolve}},[t._v("Подписать")])],1)],1),n("br")],1):t._e(),"pending"==t.item.status?n("f7-card-footer",[n("f7-preloader",{attrs:{color:"orange"}}),t._v("\n\t\tЗапрос активен еще \n\t\t"+t._s(t.timerSeconds)+" секунд\n\t")],1):t._e()],1)},h=[],g=n("b862");n("a481"),n("6b54"),n("28a5");function v(t,e){return parseFloat(parseFloat(t).toFixed(e))}function y(t){var e=atob(t),n=new Uint8Array(e.length);return Array.prototype.forEach.call(n,(function(t,n,r){r[n]=e.charCodeAt(n)})),String.fromCharCode.apply(null,new Uint16Array(n.buffer))}function O(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),e.join(".")}function _(t,e,n){var r=t.notification.create({icon:'<i class="icon material-icons">info</i>',title:"Запрос от "+n,titleRightText:"",subtitle:e,closeOnClick:!0});r.open(),setTimeout((function(){r.close()}),2e3)}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S={name:"RequestItem",props:["item","index"],data:function(){return{timerSeconds:0,loaded:!1,intervalID:null}},methods:{humanFriendly:function(t){var e="Сервис просит ";switch(t.txAction){case"SendTxParams":e+="отправить ",e+="<b>"+v(t.amount,5),e+=" "+t.coinSymbol+"</b>",e+=" на адрес <br><b>"+t.address+"</b>",t.message&&t.message.length&&(e+="<p>С сообщением:<br> "+t.message+"</p>");break}return e},countdown:function(){var t,e=this,n=new Date(this.item.date),r=new Date(this.item.created),a=n.getTime()-r.getTime(),i=Math.abs(60-a/1e3),o=i;this.intervalID=setInterval((function(){t=parseInt(o%60,10),t=t<10?"0"+t:t,e.timerSeconds=t,--o<0&&(clearInterval(e.intervalID),e.$store.commit("CHANGE_STATUS",{index:e.index,type:"payment",status:"timeout"}))}),1e3)},delay:function(t){return new Promise((function(e,n){setTimeout(e,t)}))},resolve:function(){var t=this,e=[];2==this.item.txArray.length&&this.$f7.dialog.preloader(),this.$store.dispatch("SENDER",this.item.txArray[0]).then((function(n){return e.push(n),1==t.item.txArray.length?new Promise((function(t){return t()})):2==t.item.txArray.length?t.delay(6500).then((function(){return t.sendTransaction(t.item.txArray[1])})):void 0})).then((function(n){2==t.item.txArray.length&&n&&e.push(n),2==t.item.txArray.length&&t.$f7.dialog.close(),_(t.$f7,"Транзакция совершена",t.item.requesting),clearInterval(t.intervalID),t.wsPayment.send(JSON.stringify({from:"user",status:"resolve",_id:t.item._id,hash:e})),t.$store.commit("CHANGE_STATUS",{index:t.index,type:"payment",status:"resolve"})})).catch((function(t){}))},reject:function(){_(this.$f7,"Вы отменили запрос",this.item.requesting),this.wsPayment.send(JSON.stringify({from:"user",status:"reject",hash:["false"],_id:this.item._id})),clearInterval(this.intervalID),this.$store.commit("CHANGE_STATUS",{index:this.index,type:"payment",status:"reject"})}},computed:j({},Object(l["c"])({address:function(t){return t.wallet.address},private:function(t){return t.wallet.private},minterGate:function(t){return t.wallet.minterGate},wsPayment:function(t){return t.payments.wsPayment}})),created:function(){this.countdown()},mounted:function(){}},P=S,T=(n("b781"),n("2877")),k=Object(T["a"])(P,b,h,!1,null,null,null),x=k.exports;function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D={name:"Home",components:{Payment:x},data:function(){return{}},methods:{testSend:function(){var t={txAction:"SendTxParams",address:this.address,amount:.1,coinSymbol:"BIP",feeCoinSymbol:"BIP",message:"Test cp002"};m("payment",this.address,t).then((function(t){console.log("service ",t)}))},wsopen:function(t){this.wsPayment.send(JSON.stringify({from:"user",status:"open",address:this.address}))},wsclose:function(t){console.log("close",t)},wsmessage:function(t){var e=!1;try{e=JSON.parse(t.data)}catch(n){}console.log("message",e),("user"==e.from&&"pending"==e.status||"service"==e.from&&"payment"==e.action)&&this.$store.dispatch("SET_PAYMENTS",e)}},computed:A({},Object(l["c"])({address:function(t){return t.wallet.address},balances:function(t){return t.api.balances},delegations:function(t){return t.api.delegations},wsPayment:function(t){return t.payments.wsPayment},payments:function(t){return t.payments.payment},balanceList:function(t){return t.api.balanceList}}),{},Object(l["b"])(["isLogin","balanceSum","balanceCustom","delegationsSum"])),created:function(){var t=this;this.isLogin&&(this.$store.dispatch("WS_PAYMENT"),this.wsPayment.onopen=function(e){return t.wsopen(e)},this.wsPayment.onmessage=function(e){return t.wsmessage(e)},this.wsPayment.onclose=function(e){return t.wsclose(e)})},mounted:function(){this.isLogin}},L=D,C=Object(T["a"])(L,s,c,!1,null,null,null),I=C.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",[r("f7-navbar",{attrs:{title:"О кошельке","back-link":"Назад"}}),r("f7-block",[r("p",[t._v("Кошелек созданный с целью обезопасить вашу сид фразу при использовании сервисов на базе Minter")])]),r("a",{attrs:{target:"_blank",href:"tg://resolve?domain=cloud_projects"}},[r("img",{attrs:{src:n("1ae4")}})]),r("f7-block",[r("p",[t._v("Подробности проекта появятся позже, но выразить свое мнение вы можете в чате "),r("a",{attrs:{target:"_blank",href:"tg://resolve?domain=cloud_projects"}},[t._v("@cloud_projects")])])])],1)},F=[],$={},R=Object(T["a"])($,N,F,!1,null,null,null),q=R.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"Баланс","back-link":"Назад"}}),n("f7-list",t._l(t.balancesList,(function(t,e){return n("f7-list-item",{attrs:{title:e,after:t}},[n("img",{attrs:{slot:"media",width:"34",src:"https://my.minter.network/api/v1/avatar/by/coin/"+e},slot:"media"})])})),1)],1)},G=[];function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B={name:"Balance",data:function(){return{}},methods:{},computed:U({},Object(l["c"])({address:function(t){return t.wallet.address},balancesList:function(t){return t.api.balancesList}}),{},Object(l["b"])(["isLogin"])),created:function(){},mounted:function(){}},J=B,W=Object(T["a"])(J,M,G,!1,null,null,null),Y=W.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"Делегированно","back-link":"Назад"}}),t.delegations.length?n("f7-list",t._l(t.delegations,(function(e){return n("f7-list-item",{attrs:{footer:e.validator_meta.name,title:e.coin,after:t.numberSpaces(t.pretty(e.value,5))}},[n("img",{attrs:{slot:"media",width:"34",src:e.validator_meta.icon_url},slot:"media"})])})),1):n("f7-block",[n("p",[t._v("У вас ничего не делегированно. Может стоит попробовать?")])])],1)},z=[];function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var X={name:"Delegation",data:function(){return{}},methods:{pretty:function(t,e){return v(t,e)},numberSpaces:function(t){return O(t)}},computed:Q({},Object(l["c"])({address:function(t){return t.wallet.address},delegations:function(t){return t.api.delegations}}),{},Object(l["b"])(["isLogin"])),created:function(){},mounted:function(){}},Z=X,tt=Object(T["a"])(Z,V,z,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{infinite:"","infinite-distance":50,"infinite-preloader":t.showPreloader},on:{infinite:t.loadMore}},[n("f7-navbar",{attrs:{title:"История","back-link":"Назад"}}),n("f7-block",[n("p",[n("b",[t._v("Страница транзакций в разработке")])])]),n("f7-list",t._l(t.transactions,(function(e,r){return n("f7-list-item",{key:r},[n("f7-button",{attrs:{fill:"","sheet-open":".demo-sheet-swipe-to-close"}},[t._v(t._s(r)+t._s(e.txn))])],1)})),1),n("f7-sheet",{staticClass:"demo-sheet-swipe-to-close",staticStyle:{height:"auto","--f7-sheet-bg-color":"#fff"},attrs:{"swipe-to-close":"",backdrop:""}},[n("f7-page-content",[n("f7-block-title",{attrs:{large:""}},[t._v("В разарботке")]),n("f7-block",[n("p",[t._v("Информация о транзакциях появиться при следующих обновлениях")])])],1)],1)],1)},rt=[],at=n("bc3a"),it=n.n(at);function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ct={name:"Home",components:{},data:function(){return{transactions:[],meta:null,allowInfinite:!0,showPreloader:!0,loadUrl:""}},methods:{loadMore:function(){var t=this;this.allowInfinite&&(this.allowInfinite=!1,it.a.get(this.loadUrl).then((function(e){t.meta=e.data.meta,t.transactions=t.transactions.concat(e.data.data),50==e.data.data.length&&null!=e.data.links.next?(t.showPreloader=!0,t.allowInfinite=!0,t.loadUrl="https://"+e.data.links.next):(t.showPreloader=!1,t.allowInfinite=!1)})).catch((function(){})))}},computed:st({},Object(l["c"])({explorerApi:function(t){return t.api.explorerApi},address:function(t){return t.wallet.address}}),{},Object(l["b"])(["isLogin"])),created:function(){this.loadUrl=this.explorerApi+"addresses/"+this.address+"/transactions",this.loadMore()},mounted:function(){}},lt=ct,ut=Object(T["a"])(lt,nt,rt,!1,null,null,null),ft=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"Отправка","back-link":"Назад"}}),n("f7-list",{attrs:{form:"","no-hairlines-md":""}},[n("f7-list-input",{attrs:{type:"text","floating-label":"",required:"",outline:"",label:"Адрес",value:t.addressTo,info:"Поддерживаются Mx и Mp адреса","clear-button":""},on:{input:function(e){t.addressTo=e.target.value}}}),n("f7-list-input",{attrs:{outline:"",label:"Монета","floating-label":"",value:t.coinSymbol,type:"select"},on:{input:function(e){t.coinSymbol=e.target.value}}},t._l(t.balancesList,(function(e,r){return n("option",{domProps:{value:r}},[t._v(t._s(r)+" - "+t._s(e))])})),0),n("f7-list-input",{attrs:{type:"number",outline:"","floating-label":"",step:"any",label:"Количество",value:t.quantity,"clear-button":""},on:{input:function(e){t.quantity=e.target.value}}},[n("f7-button",{attrs:{slot:"media",outline:""},on:{click:function(e){return e.preventDefault(),t.maxValue(e)}},slot:"media"},[t._v("max")])],1),n("f7-list-input",{attrs:{outline:"",value:t.message,label:"Сообщение","floating-label":"",type:"textarea","clear-button":""},on:{input:function(e){t.message=e.target.value}}}),n("f7-list-item",[t._v("\n\t\t\tКомиссия сети: "+t._s(t.senderFee)+" bip\n\t\t")]),n("f7-list-item",[n("f7-button",{attrs:{disabled:!t.validateForm,fill:"",type:"submit"},on:{click:function(e){return e.preventDefault(),t.sender(e)}}},[t._v("Отправить")])],1)],1),t.totalString.length?n("f7-block",[n("p",[t._v(t._s(t.totalString))]),"SendTxParams"==t.txAction&&t.profileTo?n("div",{staticClass:"sender__profile"},[n("div",{staticClass:"sender__profile-title"},[t._v("Получатель:")]),t.profileTo.icons.webp?n("img",{staticClass:"sender__profile-img",attrs:{src:t.profileTo.icons.webp,width:"60"}}):t._e(),n("div",{staticClass:"sender__profile-data"},[n("b",[t._v(t._s(t.profileTo.title))]),n("br"),t._v("\n\t\t\t\t"+t._s(t.profileTo.www)+"\n\t\t\t")])]):t._e(),"DelegateTxParams"==t.txAction&&t.profileTo?n("div",{staticClass:"sender__profile"},[n("div",{staticClass:"sender__profile-title"},[t._v("Валидатор:")]),t.profileTo.meta.icon_url?n("img",{staticClass:"sender__profile-img",attrs:{src:t.profileTo.meta.icon_url,width:"60"}}):t._e(),n("div",{staticClass:"sender__profile-data"},[n("b",[t._v(t._s(t.profileTo.meta.name))]),n("br"),t._v("\n\t\t\t\t"+t._s(t.profileTo.meta.site_url)+"\n\t\t\t")])]):t._e(),null==t.profileTo?n("div",{staticClass:"sender__profile"},[n("div",{staticClass:"sender__profile-title"},[t._v("Получатель:")]),n("b",[t._v(t._s(t.addressTo))])]):t._e()]):t._e()],1)},dt=[],mt=n("158a"),bt=n("6ff6");function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var vt={name:"Send",data:function(){return{coinSymbol:"",addressTo:"",quantity:"",message:"",addressToOld:"",validateForm:!1,txAction:"",totalString:"",loadedProfile:!1,profileTo:null,senderFee:.01}},methods:{validateFormFn:function(){var t=this;this.validateForm=!0,this.coinSymbol.length||(this.validateForm=!1),this.addressTo.length?this.addressTo!=this.addressToOld&&(this.addressToOld=this.addressTo,"Mx"==this.addressTo.substring(0,2)&&42==this.addressTo.length?(this.txAction="SendTxParams",this.$store.dispatch("GET_PROFILE",this.addressTo).then((function(e){t.profileTo=e})).catch((function(){t.profileTo=null}))):"Mp"==this.addressTo.substring(0,2)&&66==this.addressTo.length?(this.txAction="DelegateTxParams",this.$store.dispatch("GET_VALIDATOR",this.addressTo).then((function(e){t.profileTo=e})).catch((function(){t.profileTo=null}))):this.validateForm=!1):this.validateForm=!1,this.quantity.toString().length&&parseFloat(this.quantity)<=parseFloat(this.balancesList[this.coinSymbol])||(this.validateForm=!1),this.validateForm?this.totalString="Вы собираетесь ".concat("SendTxParams"==this.txAction?"отправить":"делегировать"," ").concat(this.quantity," ").concat(this.coinSymbol):this.totalString=""},sender:function(){var t=this;if(this.validateForm){var e={txAction:this.txAction,coinSymbol:this.coinSymbol,feeCoinSymbol:"BIP",message:this.message};"SendTxParams"==this.txAction?(e.amount=this.quantity,e.address=this.addressTo):"DelegateTxParams"==this.txAction&&(e.stake=this.quantity,e.publicKey=this.addressTo),this.$store.dispatch("SENDER",e).then((function(e){console.log(e),t.clearAll(),t.$f7.dialog.alert("Транзакция совершена успешно")})).catch((function(){t.$f7.dialog.alert("Ошибка в транзакции")}))}},clearAll:function(){this.coinSymbol="",this.addressTo="",this.quantity="",this.message="",this.addressToOld="",this.validateForm=!1,this.txAction="",this.totalString="",this.loadedProfile=!1,this.profileTo=null,this.senderFee=.01},pretty:function(t,e){return v(t,e)},numberSpaces:function(t){return O(t)},maxValue:function(){this.quantity=parseFloat(this.balancesList[this.coinSymbol])}},computed:gt({},Object(l["c"])({address:function(t){return t.wallet.address},private:function(t){return t.wallet.private},balances:function(t){return t.api.balances},balancesList:function(t){return t.api.balancesList}}),{},Object(l["b"])(["isLogin"])),created:function(){},mounted:function(){if(this.balances&&this.balances.balances.length)this.coinSymbol=this.balances.balances[0].coin;else{var t=this;setTimeout((function(){t.coinSymbol=t.balances.balances[0].coin}),1e3)}},watch:{coinSymbol:function(){this.validateFormFn()},addressTo:function(){this.validateFormFn()},quantity:function(t,e){this.validateFormFn()},message:function(t){this.senderFee=Object(mt["a"])(bt["A"],{payload:t})}}},yt=vt,Ot=(n("7288"),Object(T["a"])(yt,pt,dt,!1,null,null,null)),_t=Ot.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"Мой адрес","back-link":"Назад"}}),n("f7-block",[n("b",[t._v(t._s(t.address))])]),n("f7-block",[n("f7-button",{attrs:{raised:"",outline:""},on:{click:t.copyAddress}},[t._v("Скопировать адрес")])],1),t.qrimg&&t.qrimg.length?n("f7-block",{staticClass:"address__qr"},[n("img",{attrs:{src:t.qrimg}})]):t._e()],1)},jt=[],St=n("d055"),Pt=n.n(St);function Tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tt(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xt={name:"Home",components:{},data:function(){return{qrimg:""}},methods:{copyAddress:function(){var t=this;navigator.clipboard.writeText(this.address).then((function(){t.notify()})).catch((function(){}))},notify:function(){var t=this.$f7.notification.create({icon:'<i class="icon material-icons">info</i>',title:"От CP002 wallet",titleRightText:"",subtitle:"Адрес скопирован",closeOnClick:!0});t.open(),setTimeout((function(){t.close()}),2e3)},createQR:function(){var t=this,e={errorCorrectionLevel:"H",type:"image/png",rendererOpts:{quality:10}};Pt.a.toDataURL(this.address,e).then((function(e){console.log(e),t.qrimg=e})).catch((function(t){console.error(t)}))}},computed:kt({},Object(l["c"])({address:function(t){return t.wallet.address}})),created:function(){this.createQR()},mounted:function(){}},Et=xt,At=(n("4f01"),Object(T["a"])(Et,wt,jt,!1,null,null,null)),Dt=At.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"Настройки","back-link":"Назад"}}),n("f7-block",[n("p",[t._v("Настройки появиться при следующих обновлениях")])])],1)},Ct=[],It={},Nt=Object(T["a"])(It,Lt,Ct,!1,null,null,null),Ft=Nt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"Авторизции","back-link":"Назад"}}),n("f7-block",[n("p",[t._v("Авторизации появиться при следующих обновлениях")])])],1)},Rt=[],qt={},Mt=Object(T["a"])(qt,$t,Rt,!1,null,null,null),Gt=Mt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"Это будет наш секрет","back-link":"Назад"}}),n("f7-list",{attrs:{form:"","no-hairlines-md":""}},[n("f7-list-input",{attrs:{outline:"","floating-label":"",label:"Вставьте свою сид фразу",type:"textarea",resizable:"",placeholder:"","clear-button":"",value:t.mnemonic},on:{input:function(e){t.mnemonic=e.target.value}}})],1),n("f7-block-footer",[n("f7-button",{attrs:{fill:"",raised:"",large:"",title:"sign in"},on:{click:function(e){return e.preventDefault(),t.signIn(e)}}},[t._v("Войти")])],1),t.seedError?n("f7-block",[n("p",[t._v("Сид недействителен")])]):t._e()],1)},Ut=[],Bt=n("a2dc"),Jt={data:function(){return{mnemonic:"",seedError:!1}},methods:{signIn:function(){Object(Bt["a"])(this.mnemonic)?this.authSeed():this.error()},error:function(){console.log("errorSeed"),this.seedError=!0},authSeed:function(){var t=Object(Bt["b"])(this.mnemonic);this.$store.dispatch("SET_WALLET",{address:t.getAddressString(),private:t.getPrivateKeyString(),public:t.getPublicKeyString()}),this.$f7router.navigate("/")}}},Wt=Jt,Yt=Object(T["a"])(Wt,Ht,Ut,!1,null,null,null),Vt=Yt.exports,zt=[{path:"/",component:I},{path:"/about",component:q},{path:"/balance",component:Y},{path:"/delegations",component:et},{path:"/history",component:ft},{path:"/send",component:_t},{path:"/me",component:Dt},{path:"/auth",component:Gt},{path:"/settings",component:Ft},{path:"/login",component:Vt}];function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Xt={data:function(){return{f7params:{routes:zt,name:"CP002",id:"com.myapp.test"}}},computed:Qt({},Object(l["b"])(["isLogin"])),mounted:function(){},created:function(){if(localStorage.getItem("wallet"))try{this.$store.dispatch("SET_WALLET",JSON.parse(localStorage.getItem("wallet")))}catch(t){localStorage.removeItem("wallet")}this.isLogin&&(this.$store.dispatch("SET_GATE"),this.$store.dispatch("FETCH_BALANCE"),this.$store.dispatch("FETCH_DELEGATION"))}},Zt=Xt,te=Object(T["a"])(Zt,a,i,!1,null,null,null),ee=te.exports,ne=(n("96cf"),n("3b8d")),re={address:null,public:null,private:null,minterGate:null},ae={isLogin:function(t){return!!t.address&&!!t.address.length}},ie={SAVE_WALLET:function(t,e){t.address=e.address,t.public=e.public,t.private=e.private},SAVE_GATE:function(t,e){t.minterGate=new g["c"]({apiType:g["a"],baseURL:"https://api.minter.stakeholder.space/"})},LOGOUT:function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:localStorage.removeItem("wallet"),re.address=null,re.public=null,re.private=null,re.minterGate=null;case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},oe={SET_WALLET:function(t,e){localStorage.setItem("wallet",JSON.stringify(e)),t.commit("SAVE_WALLET",e)},SET_GATE:function(t,e){t.commit("SAVE_GATE",e)},SENDER:function(t,e){e.privateKey=re.private,e.chainId=1;var n=null;switch(e.txAction){case"SendTxParams":n=new g["d"](e);break;case"DelegateTxParams":n=new g["b"](e);break;default:return!1}return new Promise((function(t,e){re.minterGate.postTx(n).then((function(e){t(e)})).catch((function(t){e("false")}))}))}},se={state:re,getters:ae,mutations:ie,actions:oe},ce={minterscanApi:"https://minterscan.pro/",scoringApi:"https://minter-scoring.space/api/",explorerApi:"https://explorer-api.minter.network/api/v1/",balances:null,balancesList:{},delegations:null},le={balanceSum:function(t){return v(t.balances.available_balance_sum,5)},balanceCustom:function(t){return v(t.balances.available_balance_sum-t.balancesList.BIP,5)},delegationsSum:function(t){var e=t.delegations.reduce((function(t,e){return{bip_value:parseInt(t.bip_value)+parseInt(e.bip_value)}}));return O(v(e.bip_value,5))}},ue={SET_BALANCE:function(t,e){e.balances.forEach((function(e){t.balancesList[e.coin]=v(e.amount,5)})),t.balances=e},SET_DELEGATION:function(t,e){t.delegations=e},SET_TRANSACTION:function(t,e){t.transactions=e}},fe={FETCH_BALANCE:function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.a.get("".concat(ce.explorerApi,"addresses/").concat(e.rootState.wallet.address,"?withSum=true"));case 2:r=t.sent,a=r.data,e.commit("SET_BALANCE",a.data);case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),FETCH_DELEGATION:function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.a.get("".concat(ce.explorerApi,"addresses/").concat(e.rootState.wallet.address,"/delegations"));case 2:r=t.sent,a=r.data,e.commit("SET_DELEGATION",a.data);case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),GET_VALIDATOR:function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.a.get("".concat(ce.explorerApi,"validators/").concat(n));case 2:return r=t.sent,a=r.data,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),GET_PROFILE:function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.a.get("".concat(ce.minterscanApi,"profiles/").concat(n));case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},pe={state:ce,getters:le,mutations:ue,actions:fe},de={wsPayment:null,api:"wss://cp002.na4u.ru/api/",payment:[],bill:[],auth:[]},me={paymentList:function(t){}},be={SET_WSPAYMENT:function(t,e){t.wsPayment=e},PUSH_PAYMENT:function(t,e){t.payment.push(e)},CHANGE_STATUS:function(t,e){t[e.type][e.index].status=e.status}},he={WS_PAYMENT:function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=new WebSocket("".concat(de.api,"payment")),e.commit("SET_WSPAYMENT",r);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),PUSH_PAYMENT:function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit("PUSH_PAYMENT",n);case 1:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),SET_PAYMENTS:function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.requests.forEach((function(t){var r=t.txArray.map((function(t){return JSON.parse(y(t))}));t.txArray=r,t.date=n.date,console.log(t),e.commit("PUSH_PAYMENT",t)}));case 1:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},ge={state:de,getters:me,mutations:be,actions:he};r["a"].use(l["a"]);var ve=new l["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{wallet:se,api:pe,payments:ge}}),ye=n("9483");Object(ye["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(t){console.log("New content is available; please refresh.");var e=t.waiting;e.postMessage({action:"skipWaiting"})},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Oe=n("d42c"),_e=n("6baf");n("3f01"),n("557b"),n("0746");Oe["a"].use(_e["a"]),r["a"].config.productionTip=!1,new r["a"]({store:ve,render:function(t){return t(ee)}}).$mount("#app")},7288:function(t,e,n){"use strict";var r=n("9055"),a=n.n(r);a.a},9055:function(t,e,n){},b781:function(t,e,n){"use strict";var r=n("f213"),a=n.n(r);a.a},e2e5:function(t,e,n){},f213:function(t,e,n){}});
//# sourceMappingURL=app.7d17a36e.js.map