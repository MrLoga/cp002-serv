(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5acb6ced"],{"158a":function(e,t,n){"use strict";n("2330"),n("b671");var r=n("3843");n("f654");n("9dcd"),n("399f");var s=n("9a12");var i=n("dca1");function o(e,{payload:t,coinSymbol:n,multisendCount:o}={}){if(Object(s["isHexString"])(e)||(e=`0x${Object(s["padToEven"])(e.toString(16)).toUpperCase()}`),e===i["g"]&&!(o>=1))throw new Error("`multisendCount` should be positive integer when tx type is TX_TYPE_MULTISEND");let c;c=t?r["Buffer"].isBuffer(t)?t.length:Object(s["getBinarySize"])(t.toString()):0;const u=l[e],d=.001,f=1/d,m=e===i["g"]?5*(o-1):0,p=e===i["b"]?a(n):0;return(u+2*c+m)/f+p}function a(e){return c[e&&e.length]||100}const c={3:1e6,4:1e5,5:1e4,6:1e3},l={[i["k"]]:10,[i["i"]]:100,[i["j"]]:100,[i["a"]]:100,[i["b"]]:0,[i["d"]]:1e4,[i["e"]]:200,[i["n"]]:200,[i["h"]]:30,[i["m"]]:100,[i["l"]]:100,[i["c"]]:100,[i["g"]]:10,[i["f"]]:1e4};n.d(t,"a",(function(){return o}))},"192d":function(e,t,n){"use strict";var r=n("72c8"),s=n.n(r);s.a},3843:function(e,t,n){var r=n("b639"),s=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return s(e,t,n)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(s.prototype),i(s,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return s(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},"72c8":function(e,t,n){},bf2d:function(e,t,n){"use strict";var r=n("ec5c"),s=n.n(r);s.a},d2ae:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[e.isRegistered?e.requests&&e.requests.length?n("q-list",[n("q-item-label",{attrs:{header:""}},[e._v("Request")]),e._l(e.requests,(function(t){return n("q-item",{key:t.id},["payment"===t.action?n("payment",{attrs:{item:t}}):e._e(),"login"===t.action?n("login",{attrs:{item:t}}):e._e()],1)}))],2):n("q-item-label",{attrs:{header:""}},[e._v(e._s(e.$t("No requests")))]):n("q-card",[n("q-card-section",{staticClass:"bg-purple text-white"},[n("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("You are not registered in the CP002")))]),n("div",[e._v(e._s(e.$t("CP002 Registration text")))])]),n("q-card-actions",{attrs:{align:"around"}},[n("q-btn",{attrs:{disabled:e.balancesJSON["BIP"]<=e.signFee,flat:""},on:{click:e.registerAddress}},[e._v(e._s(e.$t("Sign in")))])],1)],1)],1)},s=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),o=n.n(i),a=n("2f62"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"payment"},[n("q-card-section",{staticClass:"bg-accent text-white"},[e._v("\n    From: "),n("span",{staticClass:"text-subtitle2"},[e._v(e._s(e.item.url))])]),n("q-separator"),n("q-card-section",{staticClass:"bg-accent text-white"},[n("div",{domProps:{innerHTML:e._s(e.humanFriendly(e.item.requests[0]))}})]),e.item.requests[0].message.length?n("q-separator",{attrs:{inset:""}}):e._e(),e.item.requests[0].message.length?n("q-card-section",[n("q-item-label",{attrs:{caption:""}},[e._v("Message")]),n("div",{staticClass:"text-subtitle2"},[e._v(e._s(e.item.requests[0].message))])],1):e._e(),n("q-separator",{attrs:{inset:""}}),n("q-card-actions",{attrs:{align:"around"}},[n("q-btn",{attrs:{flat:"",color:"red"},on:{click:e.reject}},[e._v("Cancel")]),n("q-btn",{attrs:{"full-width":"",flat:"",color:"primary"},on:{click:e.resolve}},[e._v("Apply")])],1)],1)},l=[],u=(n("551c"),n("ed08"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={name:"Payment",props:["item","index"],data:function(){return{timerSeconds:0,loaded:!1,intervalID:null}},methods:{humanFriendly:function(e){var t="";switch(e.txAction){case"SendTxParams":t+="Send ",t+="<b>"+Object(u["b"])(e.amount,5),t+=" "+e.coinSymbol+"</b>",t+=" to the address <br><b>"+e.address+"</b>";break}return t},countdown:function(){var e=this,t=new Date,n=new Date(this.item.created),r=t.getTime()-n.getTime(),s=Math.abs(60-r/1e3);this.timerSeconds=parseInt(s%60,10);var i,o=s;this.intervalID=setInterval((function(){i=parseInt(o%60,10),i=i<10?"0"+i:i,e.timerSeconds=i,--o<0&&(clearInterval(e.intervalID),e.$q.notify({message:"Request timeout",icon:"access_time"}),e.$store.commit("REMOVE_REQUEST",e.item.id))}),1e3)},delay:function(e){return new Promise((function(t,n){setTimeout(t,e)}))},resolve:function(){var e=this,t=[];this.item.requests.length,this.$store.dispatch("SENDER",this.item.requests[0]).then((function(n){return t.push(n),1===e.item.requests.length?new Promise((function(e){return e()})):2===e.item.requests.length?e.delay(6500).then((function(){return e.sendTransaction(e.item.requests[1])})):void 0})).then((function(n){2===e.item.requests.length&&n&&t.push(n),e.item.requests.length,clearInterval(e.intervalID);var r={id:e.nonce,from:"wallet",to:e.item.id,action:"payment",response:t};e.$q.notify({message:"Request resolved",color:"teal",icon:"done"}),e.$store.dispatch("RESPONSE",r)})).catch((function(t){e.$q.notify({message:t,color:"negative",icon:"report_problem"})}))},reject:function(){this.$q.notify({message:"Request rejected",icon:"close"}),clearInterval(this.intervalID);var e={id:this.nonce,from:"wallet",to:this.item.id,action:"payment",response:["reject"]};this.$store.dispatch("RESPONSE",e)}},computed:f({},Object(a["c"])({nonce:function(e){return e.wallet.nonce},address:function(e){return e.wallet.address},private:function(e){return e.wallet.private},minterGate:function(e){return e.wallet.minterGate},wsPayment:function(e){return e.payments.wsPayment}})),created:function(){this.countdown()},mounted:function(){}},p=m,b=(n("192d"),n("2877")),h=n("fe09"),g=Object(b["a"])(p,c,l,!1,null,null,null),v=g.exports;g.options.components=Object.assign({QCard:h["e"],QCardSection:h["g"],QSeparator:h["x"],QItemLabel:h["n"],QCardActions:h["f"],QBtn:h["d"]},g.options.components||{});var y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"login"},[n("q-card-section",{staticClass:"bg-secondary text-white"},[n("span",{staticClass:"text-subtitle2"},[e._v("Login")]),n("br"),n("span",{staticClass:"text-h6"},[e._v(e._s(e.item.requests[0]))])]),n("q-card-section",{staticClass:"bg-secondary text-white"},[n("br"),e._v("Request available "+e._s(e.timerSeconds)+" sec\n  ")]),n("q-separator",{attrs:{inset:""}}),n("q-card-actions",{attrs:{align:"around"}},[n("q-btn",{attrs:{flat:"",color:"red"},on:{click:e.reject}},[e._v("Cancel")]),n("q-btn",{attrs:{flat:"",color:"deep-orange"},on:{click:e.block}},[e._v("Block")]),n("q-btn",{attrs:{"full-width":"",flat:"",color:"primary"},on:{click:e.resolve}},[e._v("Apply")])],1)],1)},w=[],O=n("58a4"),q=n.n(O);q.a.util=n("427a");var S=function(){return q.a.util.encodeBase64(q.a.randomBytes(q.a.secretbox.nonceLength))};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={name:"Login",props:["item","index"],data:function(){return{timerSeconds:0,loaded:!1,intervalID:null}},methods:{countdown:function(){var e=this,t=new Date,n=new Date(this.item.created),r=t.getTime()-n.getTime(),s=Math.abs(60-r/1e3);this.timerSeconds=parseInt(s%60,10);var i,o=s;this.intervalID=setInterval((function(){i=parseInt(o%60,10),i=i<10?"0"+i:i,e.timerSeconds=i,--o<0&&(clearInterval(e.intervalID),e.$q.notify({message:"Request timeout",icon:"access_time"}),e.$store.commit("REMOVE_REQUEST",e.item.id))}),1e3)},delay:function(e){return new Promise((function(t,n){setTimeout(t,e)}))},reject:function(){clearInterval(this.intervalID);var e={id:this.nonce,from:"wallet",to:this.item.id,action:"login",response:["reject"]};this.$q.notify({message:"Access to requests is canceled",icon:"close"}),this.$store.dispatch("RESPONSE",e)},block:function(){this.$q.notify({message:"Domen blocked",icon:"block"}),clearInterval(this.intervalID),this.$store.dispatch("RESPONSE",{_id:this.nonce,from:"wallet",to:this.item.id,action:"login",response:["blocked"]})},resolve:function(){var e=S();clearInterval(this.intervalID),this.$store.commit("SAVE_AUTH",{domen:this.item.requests[0],nonce:e}),this.$q.notify({message:"Access to requests is allow",color:"teal",icon:"done"}),this.$store.dispatch("RESPONSE",{_id:this.nonce,from:"wallet",to:this.item.id,action:"login",response:[e]})}},computed:_({},Object(a["c"])({nonce:function(e){return e.wallet.nonce},address:function(e){return e.wallet.address},private:function(e){return e.wallet.private},minterGate:function(e){return e.wallet.minterGate},wsPayment:function(e){return e.payments.wsPayment}})),created:function(){this.countdown()},mounted:function(){}},P=E,D=(n("bf2d"),Object(b["a"])(P,y,w,!1,null,null,null)),I=D.exports;D.options.components=Object.assign({QCard:h["e"],QCardSection:h["g"],QSeparator:h["x"],QCardActions:h["f"],QBtn:h["d"]},D.options.components||{});var C=n("158a"),$=n("6ff6");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={name:"Requests",components:{Payment:v,Login:I},data:function(){return{}},computed:R({},Object(a["c"])({address:function(e){return e.wallet.address},requests:function(e){return e.request.requests},login:function(e){return e.request.login},balances:function(e){return e.api.balances},balancesJSON:function(e){return e.api.balancesJSON},wsStatus:function(e){return e.request.wsStatus}}),{},Object(a["b"])(["isLogin","isRegistered"])),methods:{registerAddress:function(){this.$store.dispatch("REGISTER_ADDRESS")},clearAll:function(){this.$store.commit("CLEAR_ALL_REQUESTS")},signFee:function(){return Object(C["a"])($["A"],{payload:"MX4qptIH0mXijR8XlroE56txuOeyig=="})}},created:function(){}},T=Q,A=Object(b["a"])(T,r,s,!1,null,null,null);t["default"]=A.exports;A.options.components=Object.assign({QPage:h["r"],QCard:h["e"],QCardSection:h["g"],QCardActions:h["f"],QBtn:h["d"],QList:h["q"],QItemLabel:h["n"],QItem:h["m"]},A.options.components||{})},ec5c:function(e,t,n){}}]);